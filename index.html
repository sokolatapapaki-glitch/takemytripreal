<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÏŒÏ‚ ÎŸÏÎ³Î±Î½Ï‰Ï„Î®Ï‚ Î¤Î±Î¾Î¹Î´Î¹Î¿Ï</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/2983/2983787.png">
<link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2983/2983787.png">
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Comic Neue',Arial,sans-serif;background:#f0f8ff;margin:0;display:flex;min-height:100vh}
.sidebar{width:250px;background:#3eb489;color:#fff;padding:20px;box-sizing:border-box}
.sidebar h2{font-size:20px;margin-top:0}
.step{margin-bottom:20px;padding:10px;background:rgba(255,255,255,0.2);border-radius:12px;cursor:pointer}
.step.active{background:rgba(255,255,255,0.5)}
.main{flex:1;padding:20px;box-sizing:border-box;overflow-y:auto}
.section{display:none}
.section.active{display:block}
h1,h2{text-align:center}
#destination-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:20px}
.destination-card{border-radius:12px;padding:20px;min-height:140px;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#dfefff;box-shadow:0 4px 12px rgba(0,0,0,0.1);cursor:pointer}
.destination-card button{margin-top:10px;padding:8px 12px;background:#3eb489;color:white;border:none;border-radius:8px;cursor:pointer}
.filter-group{background:#fff;padding:15px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.family-members-container{background:white;padding:20px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.1);margin-bottom:30px;max-width:1000px;margin:auto}
.total-overall{max-width:1000px;margin:auto;margin-bottom:30px;background:#fff;padding:20px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.15);text-align:center;font-size:26px;font-weight:bold;color:#fff;background-color:#ff7f50}
button{padding:10px 20px;font-size:16px;border-radius:12px;border:none;background:#ff7f50;color:white;cursor:pointer;margin-top:10px;display:block;margin-left:auto;margin-right:auto}
#activities-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px;margin-top:20px}
.activity-card{background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.1);padding:20px;min-height:200px;cursor:pointer;border:2px solid transparent;position:relative}
.activity-card.selected{border:3px solid #ff7f50;background-color:#fff8f0}
.activity-card .star{position:absolute;top:15px;right:15px;font-size:28px;color:gold;opacity:0.3}
.activity-card.selected .star{opacity:1}
.mobile-nav{display:none;text-align:center;padding:10px;background:#3eb489;position:sticky;top:0;z-index:1000}
@media (max-width:768px){body{flex-direction:column}.sidebar{display:none}.mobile-nav{display:block}.main{width:100%;padding:10px}}
</style>
</head>
<body>
<div class="sidebar"><h2>Î’Î®Î¼Î±Ï„Î± Î¤Î±Î¾Î¹Î´Î¹Î¿Ï</h2><div class="step active" data-target="step-destination">1. Î•Ï€Î¹Î»Î¿Î³Î® Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï</div><div class="step" data-target="step-flight">2. Î•Ï€Î¹Î»Î¿Î³Î® Î Ï„Î®ÏƒÎ·Ï‚</div><div class="step" data-target="step-hotel">3. Î•Ï€Î¹Î»Î¿Î³Î® ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï…</div><div class="step" data-target="step-activities">4. Î•Ï€Î¹Î»Î¿Î³Î® Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½</div><div class="step" data-target="step-summary">5. Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±</div><div class="step" data-target="step-map">6. Î§Î¬ÏÏ„Î·Ï‚</div></div>
<div class="mobile-nav"><select onchange="activateStep(this.value)"><option value="step-destination">1. Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚</option><option value="step-flight">2. Î Ï„Î®ÏƒÎµÎ¹Ï‚</option><option value="step-hotel">3. ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±</option><option value="step-activities">4. Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</option><option value="step-summary">5. Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±</option><option value="step-map">6. Î§Î¬ÏÏ„Î·Ï‚</option></select></div>
<div class="main">
<div id="step-destination" class="section active"><h1>Î•Ï€Î¹Î»Î¿Î³Î® Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï</h1>
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px;margin-bottom:20px">
<div class="filter-group"><h3>Î’Î±ÏƒÎ¹ÎºÎ¬ Î¦Î¯Î»Ï„ÏÎ±</h3>
<label>Î¤ÏÏ€Î¿Ï‚ Ï„Î±Î¾Î¹Î´Î¹ÏÏ„Î·:</label>
<select id="travel-type" onchange="toggleFamily()"><option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option><option value="ÎœÏŒÎ½Î¿Ï‚">ÎœÏŒÎ½Î¿Ï‚</option><option value="Î–ÎµÏ…Î³Î¬ÏÎ¹">Î–ÎµÏ…Î³Î¬ÏÎ¹</option><option value="ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±">ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±</option></select>
<div id="family-options" style="display:none;margin-top:10px"><label><input type="checkbox" value="ÎšÎ±ÏÏŒÏ„ÏƒÎ¹"> ÎšÎ±ÏÏŒÏ„ÏƒÎ¹</label><label><input type="checkbox" value="ÎœÎ¹ÎºÏÎ¬"> ÎœÎ¹ÎºÏÎ¬</label><label><input type="checkbox" value="ÎœÎµÎ³Î¬Î»Î±"> ÎœÎµÎ³Î¬Î»Î±</label></div>
<label>Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· ÏƒÎµ ÏÏÎµÏ‚:</label>
<select id="distance"><option value="">ÎŒÎ»Î±</option><option value="1">ÎˆÏ‰Ï‚ 1</option><option value="2">ÎˆÏ‰Ï‚ 2</option><option value="3">ÎˆÏ‰Ï‚ 3</option></select>
<label>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±:</label>
<select id="weather"><option value="">ÎŒÎ»Î±</option><option value="Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ">Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ</option><option value="ÎŠÎ´Î¹Î±">ÎŠÎ´Î¹Î±</option><option value="Î Î¹Î¿ ÎºÏÏÎ¿">Î Î¹Î¿ ÎºÏÏÎ¿</option></select></div>
<div class="filter-group"><h3>Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Î¦Î¯Î»Ï„ÏÎ±</h3>
<label>Î˜ÎµÎ¼Î±Ï„Î¹ÎºÎ¬ Ï€Î¬ÏÎºÎ±:</label><select id="themeparks"><option value="">Î‘Î´Î¹Î¬Ï†Î¿ÏÎ¿</option><option value="ÎÎ±Î¹">ÎÎ±Î¹</option></select>
<label>Î§ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎµÏ‚ Î±Î³Î¿ÏÎ­Ï‚:</label><select id="christmas"><option value="">Î‘Î´Î¹Î¬Ï†Î¿ÏÎ¿</option><option value="ÎÎ±Î¹">ÎÎ±Î¹</option></select>
<label>Î ÏŒÏƒÎµÏ‚ Î¼Î­ÏÎµÏ‚:</label><select id="days-stay"><option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ --</option><option value="3">3 Î¼Î­ÏÎµÏ‚</option><option value="4">4 Î¼Î­ÏÎµÏ‚</option><option value="5">5 Î¼Î­ÏÎµÏ‚</option></select>
<label>Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚:</label><input type="number" id="travel-budget" placeholder="Ï€.Ï‡. 500" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc"></div></div>
<div style="display:flex;gap:10px;margin:20px 0;justify-content:center;flex-wrap:wrap">
<button onclick="filterDestinations()">Î”ÎµÏ‚ Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚</button>
<button onclick="resetFilters()" style="background:#6c757d">ğŸ”„ Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬</button>
<button onclick="toggleQuickSelection()" style="background:#3eb489">ğŸ”½ ÎˆÏ‡Ï‰ Ï€ÏŒÎ»Î·</button>
<button onclick="clearAllData()" style="background:#dc3545">ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎŒÎ»Ï‰Î½</button></div>
<div id="quick-city-select" style="display:none;max-width:400px;margin:20px auto;background:#fff;padding:15px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1)">
<h3 style="margin-top:0;text-align:center">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î·</h3>
<select id="quick-city" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc"><option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î· --</option></select>
<button onclick="selectQuickCity()" style="width:100%;padding:10px;margin-top:10px;background:#3eb489;color:white;border:none;border-radius:8px;cursor:pointer">Î•Ï€Î¹Î»Î¿Î³Î®</button></div>
<div id="destination-cards"></div></div>

<div id="step-flight" class="section"><h1>âœˆï¸ Î•Ï€Î¹Î»Î¿Î³Î® Î Ï„Î®ÏƒÎ·Ï‚</h1>
<div style="display:flex;justify-content:center;gap:30px;flex-wrap:wrap;margin-bottom:40px">
<a href="https://www.google.com/flights" target="_blank"><button style="padding:20px 45px;font-size:20px;border-radius:18px;background:#b2f0e8;color:#004d40">ğŸŒ Google Flights</button></a>
<a href="https://www.skyscanner.net" target="_blank"><button style="padding:20px 45px;font-size:20px;border-radius:18px;background:#cce3ff;color:#002b5b">âœˆï¸ Skyscanner</button></a></div>
<div style="text-align:center"><button onclick="goToStep3()" style="padding:14px 30px;font-size:18px;border-radius:14px;background:#d4edda;color:#155724">â¡ï¸ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 3</button></div></div>

<div id="step-hotel" class="section"><h1>Î•Ï€Î¹Î»Î¿Î³Î® ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï… ğŸ¨</h1>
<div style="max-width:600px;margin:auto;background:#dfefff;padding:20px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.1)">
<h2>Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï…</h2>
<label>Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚:</label><input type="text" id="hotel-destination" placeholder="Ï€.Ï‡. Î’Î¹Î­Î½Î½Î·" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:10px">
<label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î†Ï†Î¹Î¾Î·Ï‚:</label><input type="date" id="hotel-checkin" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:10px">
<label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î‘Î½Î±Ï‡ÏÏÎ·ÏƒÎ·Ï‚:</label><input type="date" id="hotel-checkout" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:15px">
<button onclick="searchHotels()">Î’ÏÎµÏ‚ ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±</button>
<div style="text-align:center;margin-top:30px"><button onclick="goToStep4()" style="padding:14px 30px;font-size:18px;border-radius:14px;background:#ff7f50;color:white">â¡ï¸ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 4</button></div></div></div>

<div id="step-activities" class="section"><h1>ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</h1>
<div class="total-overall" id="overall-total">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬</div>
<div class="family-members-container"><h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Î¤Î± ÎœÎ­Î»Î· Î¤Î·Ï‚ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚</h2>
<div id="family-members-list">
<div class="family-member-input"><span>ğŸ‘¨</span><input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="1Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name"><input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="18" max="120"><span>ÎµÏ„ÏÎ½</span></div>
<div class="family-member-input"><span>ğŸ‘©</span><input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="2Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name"><input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="18" max="120"><span>ÎµÏ„ÏÎ½</span></div></div>
<div style="margin:20px 0;text-align:center">
<button onclick="addAdultMember()" style="background:#3eb489;color:white;padding:12px 25px;margin:5px">ğŸ‘¨ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î•Î½Î®Î»Î¹ÎºÎ±</button>
<button onclick="addChildMember()" style="background:#4c7af0;color:white;padding:12px 25px;margin:5px">ğŸ§’ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î Î±Î¹Î´Î¹Î¿Ï</button>
<button onclick="addBabyMember()" style="background:#ff7f50;color:white;padding:12px 25px;margin:5px">ğŸ‘¶ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎœÏ‰ÏÎ¿Ï</button>
<button onclick="updateFamilyMembers()" style="background:#ff7f50;color:white;padding:12px 25px;margin-top:10px">ğŸ”„ Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ·</button></div></div>
<div style="text-align:center;margin:20px 0"><button onclick="calculateSmartCombos()" style="padding:15px 30px;background:#9c27b0;color:white;border-radius:14px">ğŸ’° ÎˆÎ¾Ï…Ï€Î½Î¿ Combo</button></div>
<div style="max-width:1200px;margin:0 auto"><div id="activities-container"></div></div>
<div style="text-align:center;margin-top:30px"><button onclick="goToStep5()" style="padding:18px 40px;font-size:20px;border-radius:16px;background:#3eb489;color:white">â¡ï¸ ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· Î’Î®Î¼Î± 5</button></div></div>

<div id="step-summary" class="section"><h1>âœ… Î¤ÎµÎ»Î¹ÎºÎ® Î£ÏÎ½Î¿ÏˆÎ·</h1>
<div id="summary-content" class="summary-content" style="text-align:center;font-size:1.2em;padding:40px;border:2px dashed #3eb489;border-radius:15px;background:#e0fff0"></div>
<div style="text-align:center;margin-top:30px"><button onclick="goToStep6()" style="padding:14px 30px;font-size:18px;border-radius:14px;background:#3eb489;color:white">ğŸ—ºï¸ Î§Î¬ÏÏ„Î·Ï‚ (Î’Î®Î¼Î± 6)</button></div></div>

<div id="step-map" class="section"><h1>ğŸ—ºï¸ Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Î§Î¬ÏÏ„Î·Ï‚</h1>
<div id="map-container" style="height:600px;margin:20px 0;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.1)"></div>
<div style="text-align:center"><button onclick="initializeSmartMap()" style="padding:12px 24px;background:#3eb489;color:white;border:none;border-radius:8px;cursor:pointer;font-size:16px">ğŸ—ºï¸ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î§Î¬ÏÏ„Î·</button></div>
<div style="text-align:center;margin:15px 0">
<button onclick="addCustomPointSmart()" style="padding:12px 24px;background:#9c27b0;color:white;margin:5px">ğŸ† Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î·Î¼ÎµÎ¯Î¿Ï…</button>
<button onclick="viewCustomPoints()" style="padding:12px 24px;background:#3eb489;color:white;margin:5px">ğŸ‘ï¸ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¬ Î£Î·Î¼ÎµÎ¯Î±</button></div>
<div id="custom-points-list" style="max-width:800px;margin:20px auto;display:none"><h3>ğŸŸ£ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¬ Î£Î·Î¼ÎµÎ¯Î±</h3><div id="custom-points-container"></div></div></div>
</div>

<script>
// Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚
let familyMembers=[{name:"Î Î±Ï„Î­ÏÎ±Ï‚",age:42},{name:"ÎœÎ·Ï„Î­ÏÎ±",age:40}];
let selectedDestinationName="",selectedDaysStay=0,selectedBudget=0;

// Î£Ï…Î½Î±ÏÏ„Î®ÏƒÎµÎ¹Ï‚ Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚
function addAdultMember(){
 const c=document.getElementById('family-members-list');
 const a=Array.from(c.querySelectorAll('.family-member-input')).filter(m=>m.querySelector('.member-name').value.includes('Î•Î½Î®Î»Î¹ÎºÎ±Ï‚')).length+1;
 const d=document.createElement('div');d.className='family-member-input';
 d.innerHTML=`<span>ğŸ‘¨</span><input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="${a}Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name"><input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" class="member-age" min="18" max="120"><span>ÎµÏ„ÏÎ½</span><button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>`;
 c.appendChild(d);
}
function addChildMember(){
 const c=document.getElementById('family-members-list');
 const a=Array.from(c.querySelectorAll('.family-member-input')).filter(m=>m.querySelector('.member-name').value.includes('Î Î±Î¹Î´Î¯')).length+1;
 const d=document.createElement('div');d.className='family-member-input';
 d.innerHTML=`<span>ğŸ§’</span><input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="Î Î±Î¹Î´Î¯ ${a}" class="member-name"><input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" class="member-age" min="6" max="17"><span>ÎµÏ„ÏÎ½</span><button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>`;
 c.appendChild(d);
}
function addBabyMember(){
 const c=document.getElementById('family-members-list');
 const a=Array.from(c.querySelectorAll('.family-member-input')).filter(m=>m.querySelector('.member-name').value.includes('ÎœÏ‰ÏÏŒ')).length+1;
 const d=document.createElement('div');d.className='family-member-input';
 d.innerHTML=`<span>ğŸ‘¶</span><input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="ÎœÏ‰ÏÏŒ ${a}" class="member-name"><input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" class="member-age" min="0" max="5"><span>ÎµÏ„ÏÎ½</span><button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>`;
 c.appendChild(d);
}
function removeFamilyMember(e){e.parentElement.remove()}
function updateFamilyMembers(){
 familyMembers=[];
 document.querySelectorAll('.family-member-input').forEach(m=>{
  const n=m.querySelector('.member-name').value;
  const a=parseInt(m.querySelector('.member-age').value);
  n&&a>=0&&familyMembers.push({name:n,age:a});
 });
 saveToLocalStorage();
}

// Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Î¯
const destinations=[
 {name:"Î’Î¹Î­Î½Î½Î·",dist:2,weather:"Î Î¹Î¿ ÎºÏÏÎ¿",themeparks:"ÎÎ±Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚","Î ÏŒÎ»Î·"],costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿",suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±","Î Î±Î¹Î´Î¹ÎºÏŒ"],desc:"Î— Î±Ï…Ï„Î¿ÎºÏÎ±Ï„Î¿ÏÎ¹ÎºÎ® Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î± Ï€Î±Î»Î¬Ï„Î¹Î±."},
 {name:"Î Î±ÏÎ¯ÏƒÎ¹",dist:3,weather:"ÎŠÎ´Î¹Î±",themeparks:"ÎÎ±Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚","Î ÏŒÎ»Î·"],costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ",desc:"Î— ÏÎ¿Î¼Î±Î½Ï„Î¹ÎºÎ® Ï€ÏŒÎ»Î· Ï„Î¿Ï… Ï†Ï‰Ï„ÏŒÏ‚."},
 {name:"Î¡ÏÎ¼Î·",dist:2,weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ",themeparks:"ÎÎ±Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚","Î ÏŒÎ»Î·"],costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿",desc:"Î— Î±Î¹ÏÎ½Î¹Î± Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î¿ ÎšÎ¿Î»Î¿ÏƒÏƒÎ±Î¯Î¿."},
 {name:"Î›Î¿Î½Î´Î¯Î½Î¿",dist:4,weather:"Î Î¹Î¿ ÎºÏÏÎ¿",themeparks:"ÎÎ±Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î ÏŒÎ»Î·","Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"],costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ",desc:"Î— Î¼ÎµÎ³Î±Î»Î¿ÏÏ€Î¿Î»Î· Î¼Îµ Ï„Î¿ ÎœÏ€Î¹Î³Îº ÎœÏ€ÎµÎ½."},
 {name:"Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·",dist:2,weather:"Î Î¹Î¿ ÎºÏÏÎ¿",themeparks:"ÎŒÏ‡Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚","Î ÏŒÎ»Î·"],costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ",desc:"Î— ÏŒÎ¼Î¿ÏÏ†Î· Ï€ÏŒÎ»Î· Ï„Î¿Ï… Î”Î¿ÏÎ½Î±Î²Î·."},
 {name:"Î ÏÎ¬Î³Î±",dist:3,weather:"Î Î¹Î¿ ÎºÏÏÎ¿",themeparks:"ÎŒÏ‡Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚","Î ÏŒÎ»Î·"],costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ",desc:"Î Î±ÏÎ±Î¼Ï…Î¸Î­Î½Î¹Î± Ï€ÏŒÎ»Î·."},
 {name:"Î’ÎµÏÎ¿Î»Î¯Î½Î¿",dist:3,weather:"Î Î¹Î¿ ÎºÏÏÎ¿",themeparks:"ÎŒÏ‡Î¹",christmas:"ÎÎ±Î¹",vacationType:["Î ÏŒÎ»Î·","Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"],costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿",desc:"Î ÏŒÎ»Î· Î¼Îµ Ï€Î»Î¿ÏÏƒÎ¹Î± Î¹ÏƒÏ„Î¿ÏÎ¯Î±."},
 {name:"Î’Î±ÏÎºÎµÎ»ÏÎ½Î·",dist:3,weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ",themeparks:"ÎÎ±Î¹",christmas:"ÎŒÏ‡Î¹",vacationType:["Î˜Î¬Î»Î±ÏƒÏƒÎ±","Î ÏŒÎ»Î·"],costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿",desc:"Î“ÎºÎ±Î¿Ï…Î½Ï„Î¯, Ï€Î±ÏÎ±Î»Î¯ÎµÏ‚."},
 {name:"ÎœÎ±Î´ÏÎ¯Ï„Î·",dist:4,weather:"ÎŠÎ´Î¹Î±",themeparks:"ÎÎ±Î¹",christmas:"ÎŒÏ‡Î¹",vacationType:["Î ÏŒÎ»Î·","Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"],costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿",desc:"Î ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Î¼Îµ Ï€Î¿Î»Î¹Ï„Î¹ÏƒÏ„Î¹ÎºÎ® Î¶Ï‰Î®."},
 {name:"Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±",dist:4,weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ",themeparks:"ÎŒÏ‡Î¹",christmas:"ÎŒÏ‡Î¹",vacationType:["Î˜Î¬Î»Î±ÏƒÏƒÎ±","Î ÏŒÎ»Î·"],costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ",desc:"Î Î¿ÏÏ„Î¿Î³Î±Î»Î¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ±."}
];

// Î’Î®Î¼Î± 1 - Î¦Î¯Î»Ï„ÏÎ±
function toggleFamily(){
 document.getElementById("family-options").style.display=
  document.getElementById("travel-type").value==="ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±"?"flex":"none";
}
function toggleQuickSelection(){
 const e=document.getElementById('quick-city-select');
 e.style.display=e.style.display==='none'?'block':'none';
 if(document.getElementById('quick-city').options.length<=1) fillQuickCityDropdown();
}
function fillQuickCityDropdown(){
 const s=document.getElementById('quick-city');
 s.innerHTML='<option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î· --</option>';
 [...destinations].sort((a,b)=>a.name.localeCompare(b.name,'el')).forEach(d=>{
  const o=document.createElement('option');o.value=d.name;o.textContent=d.name;s.appendChild(o);
 });
}
function selectQuickCity(){
 const c=document.getElementById('quick-city').value;
 if(c){
  selectedDestinationName=c;
  selectedDaysStay=document.getElementById("days-stay").value?parseInt(document.getElementById("days-stay").value):0;
  const b=document.getElementById("travel-budget").value;
  if(b) selectedBudget=parseInt(b);
  updateStep1Display();
  document.getElementById('quick-city-select').style.display='none';
 }else alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î·');
}
function filterDestinations(){
 const d=document.getElementById("distance").value;
 const w=document.getElementById("weather").value;
 const t=document.getElementById("themeparks").value;
 const c=document.getElementById("christmas").value;
 const f=destinations.filter(dest=>{
  let ok=true;
  if(d&&d!=="") ok=ok&&dest.dist<=parseInt(d);
  if(w&&w!=="") ok=ok&&dest.weather===w;
  if(t&&t!=="") ok=ok&&(t==="ÎÎ±Î¹"?dest.themeparks==="ÎÎ±Î¹":true);
  if(c&&c!=="") ok=ok&&(c==="ÎÎ±Î¹"?dest.christmas==="ÎÎ±Î¹":true);
  return ok;
 });
 const container=document.getElementById("destination-cards");
 container.innerHTML="";
 if(f.length===0){container.innerHTML="<p>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Î¯.</p>";return;}
 f.forEach(dest=>{
  const card=document.createElement("div");
  card.className="destination-card";
  card.innerHTML=`<h3>${dest.name}</h3><p>${dest.desc}</p><button onclick="selectDestination('${dest.name}')">Î£Î¥ÎÎ•Î§Î•Î™Î‘ Î’Î—ÎœÎ‘ 2</button>`;
  container.appendChild(card);
 });
}
function selectDestination(name){
 selectedDestinationName=name;
 goToStep2();
}
function resetFilters(){
 document.querySelectorAll('select').forEach(s=>s.value='');
 document.querySelectorAll('input[type="checkbox"]').forEach(cb=>cb.checked=false);
 document.getElementById("travel-budget").value='';
 filterDestinations();
}
function updateStep1Display(){
 document.getElementById('destination-cards').innerHTML=
 `<div style="text-align:center;padding:20px;background:#d4edda;border-radius:12px;border:2px solid #3eb489">
 <h3>âœ… Î•Ï€Î¹Î»Î­Î¾Î±Ï„Îµ: ${selectedDestinationName}</h3>
 <p>ğŸ“… Î”Î¹Î¬ÏÎºÎµÎ¹Î±: ${selectedDaysStay>0?selectedDaysStay+' Î¼Î­ÏÎµÏ‚':'Î¼Î· Î¿ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚'}</p>
 <p>ğŸ’° Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚: ${selectedBudget>0?selectedBudget+'â‚¬':'Î”ÎµÎ½ Î¿ÏÎ¯ÏƒÏ„Î·ÎºÎµ'}</p>
 <button onclick="goToStep2()" style="padding:10px 20px;background:#3eb489;color:white;border:none;border-radius:8px;cursor:pointer;margin-top:10px">Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 2</button></div>`;
}

// Î Î»Î¿Î®Î³Î·ÏƒÎ·
function activateStep(targetId){
 document.querySelectorAll('.step').forEach(s=>s.classList.remove('active'));
 document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('active'));
 document.querySelector(`[data-target="${targetId}"]`).classList.add('active');
 document.getElementById(targetId).classList.add('active');
 window.scrollTo({top:0,behavior:'smooth'});
}
function goToStep2(){activateStep('step-flight');}
function goToStep3(){activateStep('step-hotel');document.getElementById("hotel-destination").value=selectedDestinationName;}
function goToStep4(){activateStep('step-activities');}
function goToStep5(){activateStep('step-summary');}
function goToStep6(){activateStep('step-map');}

// ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±
function searchHotels(){
 window.open('https://www.tkqlhce.com/click-101567631-13853200','_blank');
 const img=document.createElement('img');
 img.src='https://www.lduhtrp.net/image-101567631-13853200';
 img.width=1;img.height=1;img.border=0;
 document.body.appendChild(img);
}

// Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚
async function loadCityActivities(cityName){
 // Î‘Ï€Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î­ÎºÎ´Î¿ÏƒÎ· - ÎµÏ€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ dummy data
 return {
  name:cityName,
  activities:[
   {name:"ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿",desc:"Î•Î½Î´Î¹Î±Ï†Î­ÏÎ¿Î½ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿",prices:{"0-2":0,"3-5":5,"6-14":10,"15-19":15,"18+":20},selected:false},
   {name:"Î–Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚ ÎšÎ®Ï€Î¿Ï‚",desc:"Î–ÏÎ± Î±Ï€ÏŒ ÏŒÎ»Î¿ Ï„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿",prices:{"0-2":0,"3-5":8,"6-14":15,"15-19":18,"18+":25},selected:false},
   {name:"Î Î¬ÏÎºÎ¿ Î¨Ï…Ï‡Î±Î³Ï‰Î³Î¯Î±Ï‚",desc:"Î’ÏŒÎ»Ï„ÎµÏ‚ ÎºÎ±Î¹ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹Î±",prices:{"0-2":5,"3-5":10,"6-14":20,"15-19":25,"18+":30},selected:false}
  ]
 };
}
function createActivityCards(activities){
 const container=document.getElementById('activities-container');
 container.innerHTML="";
 activities.forEach((act,index)=>{
  const card=document.createElement('div');
  card.className="activity-card";
  card.id=`activity-${index}`;
  card.innerHTML=`
   <span class="star">â­</span>
   <div class="activity-info">
    <h3>${act.name}</h3>
    <p>${act.desc}</p>
    <div style="margin-top:10px">
     <table style="width:100%;text-align:center;border-collapse:collapse">
      <tr><th>0-2</th><th>3-5</th><th>6-14</th><th>15-19</th><th>18+</th></tr>
      <tr><td>${act.prices["0-2"]}â‚¬</td><td>${act.prices["3-5"]}â‚¬</td><td>${act.prices["6-14"]}â‚¬</td><td>${act.prices["15-19"]}â‚¬</td><td>${act.prices["18+"]}â‚¬</td></tr>
     </table>
    </div>
    <div class="total" id="total-${index}">ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬</div>
   </div>`;
  card.addEventListener('click',()=>{
   card.classList.toggle('selected');
   act.selected=!act.selected;
   calculateAllCosts();
  });
  container.appendChild(card);
 });
}
function calculateAllCosts(){
 updateFamilyMembers();
 let overallTotal=0;
 const activities=window.currentCityActivities||[];
 activities.forEach((act,index)=>{
  const card=document.getElementById(`activity-${index}`);
  const totalElement=document.getElementById(`total-${index}`);
  if(card&&card.classList.contains('selected')){
   let activityTotal=0;
   familyMembers.forEach(member=>{
    const age=member.age;
    let price=0;
    if(age<=2) price=act.prices["0-2"];
    else if(age<=5) price=act.prices["3-5"];
    else if(age<=14) price=act.prices["6-14"];
    else if(age<=19) price=act.prices["15-19"];
    else price=act.prices["18+"];
    activityTotal+=price;
   });
   if(totalElement) totalElement.textContent=`ÎšÏŒÏƒÏ„Î¿Ï‚: ${activityTotal} â‚¬`;
   overallTotal+=activityTotal;
  }else if(totalElement){
   totalElement.textContent="ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬";
  }
 });
 const overallElement=document.getElementById('overall-total');
 if(overallElement) overallElement.textContent=`Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚: ${overallTotal} â‚¬`;
}

// Local Storage
function saveToLocalStorage(){
 const data={
  selectedDestinationName,
  selectedDaysStay,
  selectedBudget,
  familyMembers
 };
 localStorage.setItem('travelPlannerData',JSON.stringify(data));
}
function loadFromLocalStorage(){
 const saved=localStorage.getItem('travelPlannerData');
 if(saved){
  const data=JSON.parse(saved);
  if(confirm('ğŸ“‹ Î’ÏÎ­Î¸Î·ÎºÎµ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿ ÏƒÏ‡Î­Î´Î¹Î¿! Î˜Î­Î»ÎµÏ„Îµ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ;')){
   selectedDestinationName=data.selectedDestinationName||"";
   selectedDaysStay=data.selectedDaysStay||0;
   selectedBudget=data.selectedBudget||0;
   if(data.familyMembers&&data.familyMembers.length>0){
    familyMembers=data.familyMembers;
   }
  }
 }
}
function clearAllData(){
 if(confirm('âš ï¸ Î˜Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÎŸÎ›Î‘ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î±;')){
  localStorage.removeItem('travelPlannerData');
  familyMembers=[{name:"Î Î±Ï„Î­ÏÎ±Ï‚",age:42},{name:"ÎœÎ·Ï„Î­ÏÎ±",age:40}];
  location.reload();
 }
}

// Î§Î¬ÏÏ„Î·Ï‚
function initializeSmartMap(){
 const mapContainer=document.getElementById('map-container');
 mapContainer.innerHTML='<div id="map" style="height:100%;width:100%"></div>';
 alert('Î§Î¬ÏÏ„Î·Ï‚ Î¸Î± Ï†Î¿ÏÏ„Ï‰Î¸ÎµÎ¯ ÎµÎ´Ï (Î±Ï€Î±Î¹Ï„ÎµÎ¯ Leaflet library)');
}

// Event listeners
document.querySelectorAll('.step').forEach(step=>{
 step.addEventListener('click',()=>{
  const target=step.dataset.target;
  if(target==='step-activities') goToStep4();
  else if(target==='step-summary') goToStep5();
  else if(target==='step-map') goToStep6();
  else activateStep(target);
 });
});

// Mobile
function checkMobileView(){
 if(window.innerWidth<=768){
  document.querySelector('.mobile-nav').style.display='block';
  document.querySelector('.sidebar').style.display='none';
 }else{
  document.querySelector('.mobile-nav').style.display='none';
  document.querySelector('.sidebar').style.display='block';
 }
}
window.addEventListener('resize',checkMobileView);
window.addEventListener('load',checkMobileView);

// Initialize
window.addEventListener('load',function(){
 loadFromLocalStorage();
 checkMobileView();
 // Î‘ÏÏ‡Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ· Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½
 loadCityActivities("Î’Î¹Î­Î½Î½Î·").then(data=>{
  window.currentCityActivities=data.activities;
  createActivityCards(data.activities);
 });
});

// Placeholder functions Î³Î¹Î± Ï„Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Ï€Î¿Ï… Î»ÎµÎ¯Ï€Î¿Ï…Î½
function calculateSmartCombos(){alert('Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï…Ï€ÏŒ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·');}
function addCustomPointSmart(){alert('Î ÏÎ­Ï€ÎµÎ¹ Ï€ÏÏÏ„Î± Î½Î± Ï†Î¿ÏÏ„ÏÏƒÎµÏ„Îµ Ï‡Î¬ÏÏ„Î·');}
function viewCustomPoints(){alert('Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏƒÎ·Î¼ÎµÎ¯Î± Î±ÎºÏŒÎ¼Î±');}
</script>
</body>
</html>
